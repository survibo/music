<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player with Controls</title>
</head>
<body>
    <h1>Music Player</h1>
    <p>Press <strong>Spacebar</strong> to play or pause.</p>
    <p>Move with <strong>←</strong>, <strong>→</strong></p>
    <p>Press <strong>M</strong> to toggle mute.</p>
    <p><strong>Previous Song:</strong> <span id="previousSong">None</span></p>
    <p><strong>Currently Playing:</strong> <span id="currentSong">None</span></p>
    <p><strong>Next Song:</strong> <span id="nextSong">None</span></p>
    <p><strong>Volume:</strong> <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="1"></p>
    <p><strong>Status:</strong> <span id="status">Stopped</span></p>
    <p><strong>Time:</strong> <span id="currentTime">0:00</span> / <span id="duration">0:00</span></p>
    
    <h2>Song List</h2>
    <ul id="songList">
        <!-- Songs will be displayed here -->
    </ul>

    <script>
        const songs = [
            { file: "Disney - 100 Years of Wonder Intro (1080p HD) [ ezmp3.cc ] (1).mp3", displayName: "Disney Opening" },
            { file: "Do you want to build a snow man 편집본.wav", displayName: "Do you want to build a snowman" },
            { file: "For the first time renewr.mp3", displayName: "For the first time in forever" },
            { file: "Love is an open door 편집본.wav", displayName: "Love is an open door" },
            { file: "베토벤-교향곡-5번-운명-1악장 (2).mp3", displayName: "따다다단 효과음" },
            { file: "small-group-people-whispering-sound-effect.mp3", displayName: "웅성웅성 효과음" },
            { file: "Let it go edit minor.mp3", displayName: "Let it go" },
            { file: "문닫는 소리.wav", displayName: "문닫는 효과음" },
            { file: "바람 효과음.mp3", displayName: "바람 효과음" },
            { file: "In summer.mp3", displayName: "In summer" },
            { file: "Let it go.mp3", displayName: "Let it go 노래방" },
        ];

        let currentSongIndex = 0;
        let audio = new Audio();
        audio.preload = 'auto';

        let isMuted = false;

        const currentSongElement = document.getElementById("currentSong");
        const previousSongElement = document.getElementById("previousSong");
        const nextSongElement = document.getElementById("nextSong");
        const statusElement = document.getElementById("status");
        const currentTimeElement = document.getElementById("currentTime");
        const durationElement = document.getElementById("duration");
        const songListElement = document.getElementById("songList");
        const volumeControl = document.getElementById("volumeControl");

        // Populate the song list
        songs.forEach((song, index) => {
            const li = document.createElement("li");
            if (song.file.startsWith("http")) {
                const link = document.createElement("a");
                link.href = song.file;
                link.textContent = song.displayName;
                link.target = "_blank";
                li.appendChild(link);
            } else {
                li.textContent = song.displayName;
            }
            songListElement.appendChild(li);
        });

        function updateSongInfo() {
            previousSongElement.textContent = songs[currentSongIndex - 1]?.displayName || "None";
            currentSongElement.textContent = songs[currentSongIndex]?.displayName || "None";
            nextSongElement.textContent = songs[currentSongIndex + 1]?.displayName || "None";
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secondsLeft = Math.floor(seconds % 60);
            return `${minutes}:${secondsLeft < 10 ? '0' : ''}${secondsLeft}`;
        }

        function loadSong(index) {
            if (songs[index].file.startsWith("http")) {
                alert("This song is a link. Please open it manually.");
                statusElement.textContent = "Stopped";
                updateSongInfo();
                return;
            }
            audio.src = songs[index].file;
            audio.play();
            statusElement.textContent = "Playing";
            audio.addEventListener('loadedmetadata', () => {
                durationElement.textContent = formatTime(audio.duration);
            });
            updateSongInfo();
        }

        function playNextSong() {
            if (currentSongIndex < songs.length - 1) {
                currentSongIndex++;
                loadSong(currentSongIndex);
            } else {
                statusElement.textContent = "Stopped";
            }
        }
        function playPreviousSong() {
            if (currentSongIndex > 0) 
                currentSongIndex--;
                loadSong(currentSongIndex);
        }
        
        function toggleMute() {
            isMuted = !isMuted;
            audio.muted = isMuted;
            alert(isMuted ? "Muted" : "Unmuted");
        }

        document.addEventListener("keydown", (event) => {
            if (event.code === "Space") {
                event.preventDefault();
                if (!audio.paused) {
                    audio.pause();
                    statusElement.textContent = "Paused";
                } else {
                    audio.play();
                    statusElement.textContent = "Playing";
                }
            } else if (event.code === "ArrowRight") {
                playNextSong();
            } else if (event.code === "ArrowLeft") {
                playPreviousSong();
            } else if (event.code === "KeyM") {
                toggleMute();
            }
        });

        audio.addEventListener("ended", () => {
            statusElement.textContent = "Song Finished";
            audio.pause();
        });

        audio.addEventListener('timeupdate', () => {
            currentTimeElement.textContent = formatTime(audio.currentTime);
        });

        volumeControl.addEventListener("input", (event) => {
            audio.volume = event.target.value;
        });

        updateSongInfo();
        statusElement.textContent = "Stopped";
    </script>
</body>
</html>
